"0","net_freedom_filtered <- net_freedom |>  
  filter(country %in% country_list) |> 
  mutate(country_iso = countrycode(country,
                                   origin = ""country.name"", 
                                   destination = ""iso3c"")) |> 
  mutate(freedom_status = case_when(
    total_country_score <= 39 ~ ""Not free"",
    total_country_score > 39 & total_country_score <= 69 ~ ""Partly free"",
    total_country_score > 39 ~ ""Free"")) |> 
  pivot_longer(cols = c(a1:total_country_score), 
               names_to = ""sub_indicator"", 
               values_to = ""score"") |> 
  mutate(sub_indicator_text =
           case_when(
             sub_indicator == ""a1"" ~ ""Infrastructural limitations"", 
             sub_indicator == ""a2"" ~ ""Internet accesibility"",
             sub_indicator == ""a3"" ~ ""Government restrictions"", 
             sub_indicator == ""a4"" ~ ""Service provider diversity"", 
             sub_indicator == ""a5"" ~ ""Regulatory failure"", 
             sub_indicator == ""b1"" ~ ""Blocked content"", 
             sub_indicator == ""b2"" ~ ""Forced content deletion"", 
             sub_indicator == ""b3"" ~ ""Opaque, unacccountable procedures"", 
             sub_indicator == ""b4"" ~ ""Self-censorship"", 
             sub_indicator == ""b5"" ~ ""Information control and manipulation"", 
             sub_indicator == ""b6"" ~ ""Constraints on publishing"", 
             sub_indicator == ""b7"" ~ ""Lack diversity and reliability"", 
             sub_indicator == ""b8"" ~ ""Constraints on communities"", 
             sub_indicator == ""c1"" ~ ""Legal protections"", 
             sub_indicator == ""c2"" ~ ""Criminalised online activities"",  
             sub_indicator == ""c3"" ~ ""Individuals penalised"", 
             sub_indicator == ""c4"" ~ ""Restricted anonymous communication"", 
             sub_indicator == ""c5"" ~ ""State infringement of privacy"", 
             sub_indicator == ""c6"" ~ ""Data monitoring and retention"", 
             sub_indicator == ""c7"" ~ ""Extralegal intimidation"", 
             sub_indicator == ""c8"" ~ ""Cyberattacks"", 
             TRUE ~ sub_indicator
           )) |>
  mutate(sub_index_group = 
           case_when(
             str_detect(sub_indicator, ""a[0-9]"") ~ ""Obstructions to access"", 
             str_detect(sub_indicator, ""b[0-9]"") ~ ""Limits on content"", 
             str_detect(sub_indicator, ""c[0-9]"") ~ ""Violation of user rights"", 
             TRUE ~ ""aggregation""
           )) |> 
  filter(!is.na(score)) |> 
  glimpse()
"
"1","Rows: 2,174"
"1",""
"1","
"
"1","Columns: 9"
"1",""
"1","
"
"1","$ country            [3m[38;5;246m<chr>[39m[23m ""Bangladesh"", ""Bangladesh"", ""Bangladesh"", ""Bangladeshâ€¦
$ year               [3m[38;5;246m<dbl>[39m[23m 2023, 2023, 2023, 2023, 2023, 2023, 2023, 2023, 2023,â€¦
$ status             [3m[38;5;246m<chr>[39m[23m ""PF"", ""PF"", ""PF"", ""PF"", ""PF"", ""PF"", ""PF"", ""PF"", ""PF"",â€¦
$ country_iso        [3m[38;5;246m<chr>[39m[23m ""BGD"", ""BGD"", ""BGD"", ""BGD"", ""BGD"", ""BGD"", ""BGD"", ""BGDâ€¦
$ freedom_status     [3m[38;5;246m<chr>[39m[23m ""Partly free"", ""Partly free"", ""Partly free"", ""Partly â€¦
$ sub_indicator      [3m[38;5;246m<chr>[39m[23m ""a1"", ""a2"", ""a3"", ""a4"", ""a5"", ""a_obstacles_to_access""â€¦
$ score              [3m[38;5;246m<dbl>[39m[23m 3, 1, 3, 4, 1, 12, 3, 2, 1, 1, 2, 2, 3, 4, 18, 2, 0, â€¦
$ sub_indicator_text [3m[38;5;246m<chr>[39m[23m ""Infrastructural limitations"", ""Internet accesibilityâ€¦
$ sub_index_group    [3m[38;5;246m<chr>[39m[23m ""Obstructions to access"", ""Obstructions to access"", ""â€¦"
"1",""
"1","
"
